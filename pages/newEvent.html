<!DOCTYPE html>
<html lang="pt-br">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Cadastro de Eventos</title>
  <link rel="stylesheet" href="../style.css">
</head>

<body>
  <!--Barra de Navegação-->
  <nav id="navbar-scroll" class="navbar">
    <!-- Conteúdo da barra de navegação -->
  </nav>

  <h1 id="titulo-cadastro">Cadastro de Eventos</h1>

  <form id="formulario-cadastro">
    <label for="nomeEvento">Nome do Evento:</label>
    <input type="text" id="nomeEvento" name="nomeEvento" required><br>

    <label for="dataEvento">Data do Evento:</label>
    <input type="date" id="dataEvento" name="dataEvento" required><br>

    <label for="horaEvento">Hora do Evento:</label>
    <input type="time" id="horaEvento" name="horaEvento" required><br>

    <label for="localEvento">Local do Evento:</label>
    <input type="text" id="localEvento" name="localEvento" required><br>

    <label for="descricaoEvento">Descrição do Evento:</label>
    <textarea id="descricaoEvento" name="descricaoEvento" rows="5" required></textarea><br>

    <button type="submit">Cadastrar Evento</button>
  </form>

  <!-- Importe o Firebase SDK -->
  <script src="https://www.gstatic.com/firebasejs/10.9.0/firebase-app-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/10.9.0/firebase-firestore-compat.js"></script>

  <script>
    // Configure o Firebase com suas credenciais
    const firebaseConfig = {
      apiKey: "AIzaSyBnZ5hjZkaSYWCyFTFlX8oj0R2oTmoG8JQ",
      authDomain: "site-casa-azul.firebaseapp.com",
      projectId: "site-casa-azul",
      storageBucket: "site-casa-azul.appspot.com",
      messagingSenderId: "767221469467",
      appId: "1:767221469467:web:adba4b662835c9188143be"
    };


    // Inicialize o Firebase
    firebase.initializeApp(firebaseConfig);

    // Obtenha uma referência para o Firestore
    const db = firebase.firestore();

    // Captura o formulário quando enviado
    document.getElementById("formulario-cadastro").addEventListener("submit", function (event) {
      event.preventDefault(); // Evita o comportamento padrão de recarregar a página

      // Captura os valores do formulário
      const nomeEvento = document.getElementById("nomeEvento").value;
      const dataEvento = document.getElementById("dataEvento").value;
      const horaEvento = document.getElementById("horaEvento").value;
      const localEvento = document.getElementById("localEvento").value;
      const descricaoEvento = document.getElementById("descricaoEvento").value;

      // Adiciona os dados ao Firestore
      db.collection("Eventos").doc(dataEvento).set({
        nome: nomeEvento,
        data: dataEvento,
        hora: horaEvento,
        local: localEvento,
        descricao: descricaoEvento
      })
        .then(function (docRef) {
          console.log("Documento adicionado com ID: ", docRef.id);
          // Limpa os campos do formulário após o envio
          document.getElementById("formulario-cadastro").reset();
        })
        .catch(function (error) {
          console.error("Erro ao adicionar documento: ", error);
        });
    });
  </script>
</body>

</html>